# ubuntu系统将磁盘剩余容量扩到文件目录上

[参考](https://blog.csdn.net/qq_41793064/article/details/129875123)

### 磁盘现状

```bash
lsblk
```

### 查看磁盘信息

```bash
df -h
```

### 显示存在的卷组信息

```
vgdisplay
```

## 开始扩容

### 1.调整命令（参考）

```bash
#1.例如增大至220G
lvextend -L 220G /dev/mapper/ubuntu--vg-ubuntu--lv    

#2.例如减小至80G
lvreduce -L 80G /dev/mapper/ubuntu--vg-ubuntu--lv

#3.例如增加120G
lvextend -L +120G /dev/mapper/ubuntu--vg-ubuntu--lv    

#4.例如减小10G
lvreduce -L -10G /dev/mapper/ubuntu--vg-ubuntu--lv   

#5.例如调整为50G    
lvresize -L  50G /dev/mapper/ubuntu--vg-ubuntu--lv 

#6.例如扩容利用Free PE/size全部空间
lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv

#（以上选择自己需要扩容的命令）

#7.最后执行变更
resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv    
```

### 2.扩容

执行扩容命令

```bash
lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv
```

### 使之生效

```bash
resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv   
```