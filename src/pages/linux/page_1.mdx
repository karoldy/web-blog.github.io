# 安装mysql

```bash
sudo apt update
sudo apt install mysql-server
```

安装完成之后自动结束，不需要输入密码。

.这里默认安装的是mysql8.0版本，因为i没有输入密码；所以无法使用mysql -u root -p进入mysql

需要执行这个命令（一定要加sudo），免密码进入mysql：

```bash
sudo mysql -u root
```

然后使用sql更新用户密码：

```bash
alter user 'root'@'localhost' identified with mysql_native_password by 'your_new _password';
```

然后就可以使用密码登陆mysql 的root账户了

# 第二部分：授权远程使用

```bash
mysql>use mysql;
```

1. 如果直接授权的话，会报错

```bash
mysql>grant all on *.* to 'root'@'%';
```

>报错

2. 因为之前修改root账号的秘密时，地址为localhost，所以这里不能直接授权其他主机访问，需要先把root账号的host修改为可以访问所有主机，再去授权。 

```bash
mysql>update user set host='%' where user='root';
```

```bash
mysql>grant all on *.* to 'root'@'%';
```

```bash
mysql>flush privileges;
```

3. 记得修改完root账号的host以后要刷新权限，不然无法授权，授权之后也要刷新权限。 

然后可以用navicat等工具远程连接访问啦！

# 开放防火墙

```bash
sudo ufw allow 3306
sudo ufw reload
```