# 面试题

### 1.ReactNative中，如何解决8081端口号被占用而提示无法访问的问题?

在 React Native 开发过程中，如果你遇到 8081 端口号被占用的问题，导致开发服务器无法访问，可以通过以下几种方法来解决：

**1. 停止占用 8081 端口的进程**

- **查找占用 8081 端口的进程**：
  - **macOS/Linux**：
    ```bash
    lsof -i :8081
    ```
  - **Windows**：
    ```bash
    netstat -ano | findstr :8081
    ```

- **停止占用端口的进程**：
  - **macOS/Linux**：
    ```bash
    kill -9 <PID>
    ```
  - **Windows**：
    ```bash
    taskkill /PID <PID> /F
    ```

  替换 `<PID>` 为实际的进程 ID。

**2. 更改 React Native 开发服务器的端口**

- **使用命令行参数**：
  - 在启动 React Native 开发服务器时，可以指定一个不同的端口号：
    ```bash
    react-native start --port=8088
    ```

- **修改 `metro.config.js`**：
  - 在项目根目录下创建或修改 `metro.config.js` 文件，并设置端口号：
    ```js
    module.exports = {
      server: {
        port: 8088,
      },
    };
    ```

**3. 检查防火墙和安全软件**

- **防火墙设置**：
  - 确保防火墙或安全软件没有阻止 8081 端口的访问。可能需要在防火墙设置中允许这个端口。

- **关闭其他占用端口的应用**：
  - 有时其他应用程序或服务可能会占用 8081 端口。检查并关闭这些应用。

**4. 重新启动开发服务器**

- **重新启动服务器**：
  - 停止正在运行的 React Native 开发服务器，然后重新启动它：
    ```bash
    react-native start
    ```

**5. 重启开发机器**

- **重启机器**：
  - 有时，重启你的开发机器可以解决端口占用问题，因为这将终止所有进程并释放端口。

**示例：更改端口号**

如果你想将端口更改为 8088，可以在启动开发服务器时使用以下命令：

```bash
react-native start --port=8088
```

如果你使用 `expo-cli` 进行开发，可以使用以下命令指定端口号：

```bash
expo start --dev-client --port 8088
```

**总结**

- **停止占用端口的进程**：使用 lsof 或 netstat 查找并停止占用 8081 端口的进程。
- **更改开发服务器的端口**：通过命令行参数或配置文件指定新的端口号。
- **检查防火墙**：确保防火墙允许端口访问。
- **重新启动服务器**：重新启动开发服务器。
- **重启机器**：重启开发机器来释放端口。

---

### 2.`ReactNative`中，如何解决`adb devices`找不到连接设备的问题?

在 React Native 开发中，如果 `adb devices` 命令无法找到连接的设备，可以尝试以下步骤解决问题：

1. **确保设备已连接**

- **问题**：
  - 设备可能未正确连接到电脑。

- **解决方案**：
  - 确保设备通过 USB 线连接到电脑，并且 USB 调试已启用。你可以在设备的开发者选项中启用 USB 调试。

2. **检查 USB 驱动程序**

- **问题**：
  - 电脑可能缺少必要的 USB 驱动程序。

- **解决方案**：
  - 确保已安装正确的 USB 驱动程序（对于 Windows 用户）。可以从设备制造商的网站下载并安装最新的驱动程序。

3. **重新启动 adb 服务器**

- **问题**：
  - adb 服务器可能出现问题。

- **解决方案**：
  - 重新启动 adb 服务器：
    ```bash
    adb kill-server
    adb start-server
    adb devices
    ```

4. **检查设备状态**

- **问题**：
  - 设备可能处于错误的状态（如“离线”或“未授权”）。

- **解决方案**：
  - 确保设备显示为“在线”。如果设备状态为“未授权”，请检查设备上的授权提示并允许 USB 调试。

5. **确保开发者选项已启用**

- **问题**：
  - 设备的开发者选项可能未启用。

- **解决方案**：
  - 确保设备的开发者选项已启用，并且 USB 调试处于开启状态：
    1. 进入设备的设置。
    2. 选择“关于手机”。
    3. 连续点击“版本号”几次，直到设备提示你已成为开发者。
    4. 返回设置，进入“开发者选项”，启用“USB 调试”。

6. **检查 USB 连接方式**

- **问题**：
  - USB 连接模式可能设置为仅充电。

- **解决方案**：
  - 在设备的 USB 设置中，将连接模式更改为“文件传输（MTP）”或“媒体传输协议（MTP）”。

7. **更新 adb 工具**

- **问题**：
  - 使用的 adb 工具版本可能过时。

- **解决方案**：
  - 更新 Android SDK Platform Tools 以获取最新版本的 adb 工具。可以从 Android 官方网站下载最新的 SDK Platform Tools。

8. **检查 USB 端口和线缆**

- **问题**：
  - USB 端口或线缆可能存在物理问题。

- **解决方案**：
  - 尝试更换 USB 端口或线缆，以确保连接稳定。

9. **重启设备和电脑**

- **问题**：
  - 设备或电脑可能存在暂时性问题。

- **解决方案**：
  - 尝试重新启动设备和电脑，以解决可能存在的连接问题。

通过遵循这些步骤，你应该能够解决 `adb devices` 无法找到连接设备的问题。如果问题仍然存在，请检查设备和环境的其他配置或寻找进一步的支持。

---